language: node_js
node_js: 4.4.5

script: npm test
after_success: npm run docs && npm run coverage

deploy:
  - provider: s3
    bucket: documentation.dashaudio.co
    region: eu-west-1
    endpoint: documentation.dashaudio.co.s3-website-eu-west-1.amazonaws.com
    acl: public_read
    local_dir: build/documentation
    upload_dir: sdk/javascript
    skip_cleanup: true
    access_key_id:
      secure: ovMw4ecQtKioMzJev6KiLwyufjDz2I+ZOnBDaYqUlu4beOu8UOLwxszwNfIvrcHBmOL9Wybr75Bq7RD2NazAGmkbfUBPeO6tFUHn6An8V7eEx1sNyON5Em4VheEW34PQj51LmQOOha5LDdkBDcSyYJqULf1GvNAXvkjwmNUHGqAgjbahVrJVfBvsV1ZDOUzbrMgExQ/HbkrX6bmh2x2XTbCZ1ntLXJvhpA1Xxo7BQohxxMrFJozR9O0XyIcRW7HmdVm95FqWOvjuDhKQcynUtIS7tVz1nsij6f46bmQNXoO4VNtMGprNCiev7fod0mF0DyocciQXwg11dD2NIrEh88ENAvJu8f9C7jQyfVAFiAOO1+X3vcSLl60ef/WoBzV2ficMghqJ7QKVpytQ4S8lIEUObD+8n8PBT609nNiSFNv3wQ2thpEKWnnKC6kG41etbO12C4Fiadv6pY0CJ1hArZ1eX4wBwBs3TKHlGC3Wgw9ZQxSp/5uZZ6E74zpzfUcvPi6J2eUBMTaiteJZMbmg2LQwkatPmfl/MrgVihFcwx/Rb+p7pIgFFJPMlHxDBO5HTD4j6IRW+3mWdjcE6016snGDfqL/jJtIUo6f9K/H9U1i51CGuqu+/z5RrHnX7Sduc0/kxS3wZMgrUrwwKQ6O/QVHrCrQi7a9WR0ajlZitwo=
    secret_access_key:
      secure: xnaw/vCE3LQP0ss3LwpvDECjSAE31nvUnDHFvzRb3dJOpIHOyXZVoA6+R6XklhpEMJ98pSe+pdXOAtAD+f8P9zwH0wZQnZ4Tr5VDN1WE8ErPjMY3gFTlOrSm3ygasItNYAFuXx83qJibbkP6e1Y03Yoa+5yNFc+zOq8YxG5cMUHT2JtT9b5zTC8h1hEoaZC6u67tzcKBQLYGmldIc8GR9ln3aDUU8PdUGaXcz8kT+Ka5SlGZQCSOocS0NdqHp/42/sblLfoEGHNmM+25mrLuw8IHJR7ZOumWS0D7ma96ItesPA+N2LGfsv4d0LPmBpk5V2gXMj25RPF3iTyrq6q4capKRVinnd3zyuN+XnCv+uj6GosK1DULENAotglECPYZL+WOQNQaFGnYFrsVGHYOB5FcxRsn7lo0FgB246h6lrjgcAwb6/0lRaMN9N/2+GkhIsDltdeOksuQkZ7KVgKzivdPL7kq1PZifYs5wN1mZFoepbzC5Sn3MvUjC1rAnOXrImgZqZULKbUERfHUY0Mg01YJFm20ffQ1/S+b9D+NuwTaQzzz6gZhANbWPr1NTMng1HEiDbSiTZsj9RIceM0dc5i5FbXPzB1p2KJdJJLxBVE16xkIadvn3vUsp+biQ8LDhwsxE9HN3rWOXdZZwMzKjGix3LkUa2WiS/RaGghPVkc=
  - provider: npm
      skip_cleanup: true
      email:
        secure: sEvSL24/Y3/hlyj75hbxkXneYsxW/HMgga4aEWz3dbxrY2HG513KYFg+mTGi8IEJNM/qW1bybP1DP9v04K0XP98C96JIl5/jXV6QYdDx46LDVn8bq4xz4pJ7eJEh9XVabOp8n1zkjOZG9NKS2ngDI2lyNUdCaGA6hZJxLuPGDaDxMeMbHZcuyyzAwBf7PlXayNFcqYaH00IUArQneW+vATlbzaQqWP0MtNq3IRTCRl8cT1Zq4e1qALwKt19R1FVt3VcWjqLPi5MPiHbjd5uRt5vMIeSyTMgaJQ8xbm0gOh9yjxPOQgIpqFCIbJKD+grt1GwAPCdfLeunn4U4e5x6EwNARESGJLvyjKIsfmKe4l/8cP5K/ABSrrm7xf+6cIlby5y2sRzTnljl9HqzrDaPuuAbbzwRgAiuSWzU7FJTlSzbyO5ozWopI2t51OWHnd8OY8OGMALBB5haTnRg5yuDhby6h5/KI7FaDudKC/VdA2wieQe+diZVYvQ7S1C0dBnp0/8vpNT3XxCxppo6RAN855aXdLSmnzOgAhMRQ3v76OwO2jyEbzyDRvpMcS8L/qRxj7oNF4qMkmjLpHuX1tXStcd6zE61aCGSaVStVllEZUTCAGmBxtM0imzRkzy3834XXdmwc4XO+oP7ZqMgZhUAlyjPFy8ddlc6J2JKO8xL4BI=
      api_key:
        secure: aq072XeD6HhJZftasPmN2oQdiRFAFUXKBMnzFLqfsXnTZNVbJa1OrCAbazQAouXXKsVD8jnNuOtDaUMjstthkiWbxuNKCjS4aWq20lQxMlGaBqOEv+vVgBQ8opHsZhISQhMTFJI8KKrD2IedYNPC8thsopsRGsBOCBABjpeoY5MiZ6aM8OvGUXIDciPyIDX6j36M5zMsVOqQYjSdUKXhnU9U21FecztfL46Qugx3wYU6M9ySyYJ5LpqJt3aBWSbqBwnNZgCpyyJqTV+N4ZCjzs6533HsoEB/LizDABx56MaMO7zBwGXUgOb+labfQhqrAMNh24Kbr7sR4ulS4YFrQdP9oL0GFoo/rXbN7LigA0ZjnbekmYU/Aukk9t0o66tiGsplFUBY5d74hImHgGsBZLGg7Pu/DFodMcfYuzNkTW9IEIfSWUmnRCewKTruPSyi1TTPK1SN061mhLV1xq1JU0WebEExCiFroye3cqoRmAYuZjjg0GVRWOnitGDoX/9OGrCCcohiwmMBtaqogAegN8NoWUNymFCBONvGYWbvZdzq4A6UndeyvHw11Jtr4fiVKXAUHbPn8ZfxtjiKhZEEfu02vEdFhVH3Mh6KcnKynAXxLcj5DEt5Qf7c5aJhR5twuwGcU3E/s0ASBIfrhOdcNwQp98irIn+qWOTgam3EDHQ=
      on:
        tags: true

addons:
  code_climate:
    repo_token:
      secure: wKpePiWm18N4mK2q6Gz2Jk7/NBqeNVPpuxGrGe4fMds+bcuygPq5gya7lMHVt2kOSqb4bEIohPQufZQ0Tw+OtMPYfiNbS6GfSzwdL/N1Gr1aGTXbX1KJYasBm0ZHKueuOwjiVT8bM+xVPcd9wtWFWXnUrg0U3LAPNN4W4NSHBS+R3OIpHwaXy+6Q9VaEhs5xLOOA+ToKhblEjDfXOP5XbONWpEDXIKIeqTQHI5I7tQr6DsW2kRSsxoL61oMwjQWYjnNROykLvhGmZ+3GoGmEoptsf+GSi5mTbd5ITVMWuZIryoMs1vXrUlNUER8h6d0W0WWJhjxVFJIeKHm1+w6+/nzarCC+bHqs4ScKeO2nmvGXw6eTM8gD9Xsufl6eyNMKDA1UlxOxf9xkD2yWD0EcbjwDNulXbffcT0aIiODMdk6xvU/H6P8aIzD0AGjOx0btgiqt/BQoJJKGfPhf050rlsXy4+dJEEf57dn7JKAbXfUWN5ZfKHsPBCsbb+TsNiiTJa5Qg6BmyBa9pCw2nJHJkK4nz0NXm+aasdTpLOjQY1BBhNO4Rd/Mf2LgEC7LrHTpQQMtfpSGndRRLa4YSWQLMf8Zr06S1Kgiyq345ZcNfjja/N6Pg7gq4fJrJojbv6DHXqxIjzxvYRMPw3770uxxbkkWEBBfiJHtrnIQM7loNjQ=
